{"id":"DHWK","dependencies":[{"name":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js.map","includedInParent":true,"mtime":1655153731415},{"name":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\src\\Image.js","includedInParent":true,"mtime":1655153730626},{"name":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\package.json","includedInParent":true,"mtime":1655154620241},{"name":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\package.json","includedInParent":true,"mtime":1655153731198},{"name":"./events/EventType.js","loc":{"line":19,"column":22,"index":813},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\events\\EventType.js"},{"name":"./ImageBase.js","loc":{"line":20,"column":22,"index":860},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\ImageBase.js"},{"name":"./ImageState.js","loc":{"line":21,"column":23,"index":901},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\ImageState.js"},{"name":"./has.js","loc":{"line":22,"column":29,"index":949},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\has.js"},{"name":"./extent.js","loc":{"line":23,"column":26,"index":987},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\extent.js"},{"name":"./events.js","loc":{"line":24,"column":42,"index":1044},"parent":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\Image.js","resolved":"C:\\Users\\vpariente_profile\\DEV\\mcd\\visualizacion\\visualizacionpractica2\\node_modules\\ol\\events.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0,exports.listenImage=l;var t=o(require(\"./events/EventType.js\")),e=o(require(\"./ImageBase.js\")),n=o(require(\"./ImageState.js\")),i=require(\"./has.js\"),r=require(\"./extent.js\"),s=require(\"./events.js\");function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Class extends value \"+String(n)+\" is not a constructor or null\");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=function(t){function e(e,i,r,s,o,a){var u=t.call(this,e,i,r,n.default.IDLE)||this;return u.src_=s,u.image_=new Image,null!==o&&(u.image_.crossOrigin=o),u.unlisten_=null,u.state=n.default.IDLE,u.imageLoadFunction_=a,u}return a(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=n.default.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,r.getHeight)(this.extent)/this.image_.height),this.state=n.default.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=n.default.IDLE&&this.state!=n.default.ERROR||(this.state=n.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=l(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=(0,r.getHeight)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(e.default);function l(e,n,r){var o=e;if(o.src&&i.IMAGE_DECODE){var a=o.decode(),u=!0;return a.then(function(){u&&n()}).catch(function(t){u&&(\"EncodingError\"===t.name&&\"Invalid image type.\"===t.message?n():r())}),function(){u=!1}}var l=[(0,s.listenOnce)(o,t.default.LOAD,n),(0,s.listenOnce)(o,t.default.ERROR,r)];return function(){l.forEach(s.unlistenByKey)}}var h=u;exports.default=h;"},"sourceMaps":{"js":{"mappings":[{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":0}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":13}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":20}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":35}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":43}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":56}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":57}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":64}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":68}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":76}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":89}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":91}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":99}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":111}},{"source":"src/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":113}},{"source":"src/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":117}},{"source":"src/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":119}},{"source":"src/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":121}},{"source":"src/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":129}},{"source":"src/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":155}},{"source":"src/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":157}},{"source":"src/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":159}},{"source":"src/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":167}},{"source":"src/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":186}},{"source":"src/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":188}},{"source":"src/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":190}},{"source":"src/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":198}},{"source":"src/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":218}},{"source":"src/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":220}},{"source":"src/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":228}},{"source":"src/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":240}},{"source":"src/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":242}},{"source":"src/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":250}},{"source":"src/Image.js","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":265}},{"source":"src/Image.js","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":267}},{"source":"src/Image.js","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":275}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":290}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":299}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":301}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":304}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":311}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":314}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":316}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":327}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":329}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":330}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":338}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":341}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":345}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":347}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":358}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":362}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":364}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":373}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":375}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":378}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":385}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":387}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":394}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":410}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":411}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":421}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":435}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":442}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":451}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":453}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":456}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":458}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":468}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":472}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":481}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":483}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":486}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":490}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":494}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":499}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":501}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":508}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":518}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":533}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":538}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":540}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":545}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":547}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":550}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":552}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":558}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":560}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":564}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":571}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":580}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":582}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":585}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":588}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":607}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":610}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":617}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":619}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":625}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":629}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":639}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":662}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":669}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":672}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":705}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":714}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":718}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":723}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":735}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":737}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":739}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":741}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":744}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":746}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":756}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":763}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":765}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":772}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":779}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":783}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":785}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":795}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":797}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":807}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":811}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":815}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":818}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":820}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":829}},{"source":"src/Image.js","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":832}},{"source":"src/Image.js","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":841}},{"source":"src/Image.js","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":843}},{"source":"src/Image.js","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":845}},{"source":"src/Image.js","name":null,"original":{"line":41,"column":4},"generated":{"line":1,"column":847}},{"source":"src/Image.js","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":849}},{"source":"src/Image.js","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":851}},{"source":"src/Image.js","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":853}},{"source":"src/Image.js","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":856}},{"source":"src/Image.js","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":860}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":862}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":864}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":869}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":10},"generated":{"line":1,"column":874}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":876}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":30},"generated":{"line":1,"column":878}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":42},"generated":{"line":1,"column":880}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":42},"generated":{"line":1,"column":882}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":53},"generated":{"line":1,"column":890}},{"source":"src/Image.js","name":null,"original":{"line":46,"column":58},"generated":{"line":1,"column":897}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":902}},{"source":"src/Image.js","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":909}},{"source":"src/Image.js","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":911}},{"source":"src/Image.js","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":916}},{"source":"src/Image.js","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":918}},{"source":"src/Image.js","name":null,"original":{"line":58,"column":9},"generated":{"line":1,"column":920}},{"source":"src/Image.js","name":null,"original":{"line":58,"column":18},"generated":{"line":1,"column":927}},{"source":"src/Image.js","name":null,"original":{"line":58,"column":22},"generated":{"line":1,"column":931}},{"source":"src/Image.js","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":937}},{"source":"src/Image.js","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":944}},{"source":"src/Image.js","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":948}},{"source":"src/Image.js","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":950}},{"source":"src/Image.js","name":null,"original":{"line":60,"column":18},"generated":{"line":1,"column":957}},{"source":"src/Image.js","name":null,"original":{"line":60,"column":32},"generated":{"line":1,"column":969}},{"source":"src/Image.js","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":972}},{"source":"src/Image.js","name":null,"original":{"line":67,"column":9},"generated":{"line":1,"column":974}},{"source":"src/Image.js","name":null,"original":{"line":67,"column":21},"generated":{"line":1,"column":984}},{"source":"src/Image.js","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":989}},{"source":"src/Image.js","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":991}},{"source":"src/Image.js","name":null,"original":{"line":73,"column":17},"generated":{"line":1,"column":997}},{"source":"src/Image.js","name":null,"original":{"line":73,"column":17},"generated":{"line":1,"column":999}},{"source":"src/Image.js","name":null,"original":{"line":73,"column":28},"generated":{"line":1,"column":1007}},{"source":"src/Image.js","name":null,"original":{"line":79,"column":4},"generated":{"line":1,"column":1012}},{"source":"src/Image.js","name":null,"original":{"line":79,"column":9},"generated":{"line":1,"column":1014}},{"source":"src/Image.js","name":null,"original":{"line":79,"column":30},"generated":{"line":1,"column":1033}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":1035}},{"source":"src/Image.js","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":1037}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1044}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1046}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1048}},{"source":"src/Image.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1051}},{"source":"src/Image.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1053}},{"source":"src/Image.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1063}},{"source":"src/Image.js","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1072}},{"source":"src/Image.js","name":null,"original":{"line":87,"column":4},"generated":{"line":1,"column":1083}},{"source":"src/Image.js","name":null,"original":{"line":87,"column":11},"generated":{"line":1,"column":1090}},{"source":"src/Image.js","name":null,"original":{"line":87,"column":16},"generated":{"line":1,"column":1095}},{"source":"src/Image.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1103}},{"source":"src/Image.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1105}},{"source":"src/Image.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1115}},{"source":"src/Image.js","name":null,"original":{"line":95,"column":2},"generated":{"line":1,"column":1133}},{"source":"src/Image.js","name":null,"original":{"line":96,"column":4},"generated":{"line":1,"column":1144}},{"source":"src/Image.js","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":1149}},{"source":"src/Image.js","name":null,"original":{"line":96,"column":17},"generated":{"line":1,"column":1155}},{"source":"src/Image.js","name":null,"original":{"line":96,"column":17},"generated":{"line":1,"column":1157}},{"source":"src/Image.js","name":null,"original":{"line":96,"column":28},"generated":{"line":1,"column":1165}},{"source":"src/Image.js","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":1171}},{"source":"src/Image.js","name":null,"original":{"line":97,"column":9},"generated":{"line":1,"column":1176}},{"source":"src/Image.js","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1193}},{"source":"src/Image.js","name":null,"original":{"line":98,"column":9},"generated":{"line":1,"column":1198}},{"source":"src/Image.js","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":1209}},{"source":"src/Image.js","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":1211}},{"source":"src/Image.js","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":1221}},{"source":"src/Image.js","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":1238}},{"source":"src/Image.js","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":1254}},{"source":"src/Image.js","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1258}},{"source":"src/Image.js","name":null,"original":{"line":107,"column":13},"generated":{"line":1,"column":1263}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":1276}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1281}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":24},"generated":{"line":1,"column":1293}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":24},"generated":{"line":1,"column":1295}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":24},"generated":{"line":1,"column":1297}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":34},"generated":{"line":1,"column":1308}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":39},"generated":{"line":1,"column":1313}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":49},"generated":{"line":1,"column":1321}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":54},"generated":{"line":1,"column":1326}},{"source":"src/Image.js","name":null,"original":{"line":108,"column":61},"generated":{"line":1,"column":1333}},{"source":"src/Image.js","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1341}},{"source":"src/Image.js","name":null,"original":{"line":110,"column":9},"generated":{"line":1,"column":1346}},{"source":"src/Image.js","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":1352}},{"source":"src/Image.js","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":1354}},{"source":"src/Image.js","name":null,"original":{"line":110,"column":28},"generated":{"line":1,"column":1362}},{"source":"src/Image.js","name":null,"original":{"line":111,"column":4},"generated":{"line":1,"column":1369}},{"source":"src/Image.js","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1374}},{"source":"src/Image.js","name":null,"original":{"line":112,"column":4},"generated":{"line":1,"column":1391}},{"source":"src/Image.js","name":null,"original":{"line":112,"column":9},"generated":{"line":1,"column":1396}},{"source":"src/Image.js","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1407}},{"source":"src/Image.js","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1409}},{"source":"src/Image.js","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1419}},{"source":"src/Image.js","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":1424}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":1435}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":13},"generated":{"line":1,"column":1440}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":22},"generated":{"line":1,"column":1447}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":22},"generated":{"line":1,"column":1449}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":33},"generated":{"line":1,"column":1457}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":41},"generated":{"line":1,"column":1463}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":46},"generated":{"line":1,"column":1468}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":55},"generated":{"line":1,"column":1475}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":55},"generated":{"line":1,"column":1477}},{"source":"src/Image.js","name":null,"original":{"line":122,"column":66},"generated":{"line":1,"column":1485}},{"source":"src/Image.js","name":null,"original":{"line":123,"column":6},"generated":{"line":1,"column":1493}},{"source":"src/Image.js","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":1498}},{"source":"src/Image.js","name":null,"original":{"line":123,"column":19},"generated":{"line":1,"column":1504}},{"source":"src/Image.js","name":null,"original":{"line":123,"column":19},"generated":{"line":1,"column":1506}},{"source":"src/Image.js","name":null,"original":{"line":123,"column":30},"generated":{"line":1,"column":1514}},{"source":"src/Image.js","name":null,"original":{"line":124,"column":6},"generated":{"line":1,"column":1522}},{"source":"src/Image.js","name":null,"original":{"line":124,"column":11},"generated":{"line":1,"column":1527}},{"source":"src/Image.js","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":1537}},{"source":"src/Image.js","name":null,"original":{"line":125,"column":11},"generated":{"line":1,"column":1542}},{"source":"src/Image.js","name":null,"original":{"line":125,"column":30},"generated":{"line":1,"column":1561}},{"source":"src/Image.js","name":null,"original":{"line":125,"column":36},"generated":{"line":1,"column":1566}},{"source":"src/Image.js","name":null,"original":{"line":125,"column":41},"generated":{"line":1,"column":1571}},{"source":"src/Image.js","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":1577}},{"source":"src/Image.js","name":null,"original":{"line":126,"column":11},"generated":{"line":1,"column":1582}},{"source":"src/Image.js","name":null,"original":{"line":126,"column":23},"generated":{"line":1,"column":1592}},{"source":"src/Image.js","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1594}},{"source":"src/Image.js","name":null,"original":{"line":127,"column":13},"generated":{"line":1,"column":1599}},{"source":"src/Image.js","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":1606}},{"source":"src/Image.js","name":null,"original":{"line":128,"column":13},"generated":{"line":1,"column":1611}},{"source":"src/Image.js","name":null,"original":{"line":128,"column":30},"generated":{"line":1,"column":1628}},{"source":"src/Image.js","name":null,"original":{"line":128,"column":35},"generated":{"line":1,"column":1633}},{"source":"src/Image.js","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1639}},{"source":"src/Image.js","name":null,"original":{"line":129,"column":13},"generated":{"line":1,"column":1644}},{"source":"src/Image.js","name":null,"original":{"line":129,"column":31},"generated":{"line":1,"column":1662}},{"source":"src/Image.js","name":null,"original":{"line":129,"column":36},"generated":{"line":1,"column":1667}},{"source":"src/Image.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1676}},{"source":"src/Image.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1678}},{"source":"src/Image.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1688}},{"source":"src/Image.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":1697}},{"source":"src/Image.js","name":null,"original":{"line":137,"column":11},"generated":{"line":1,"column":1706}},{"source":"src/Image.js","name":null,"original":{"line":138,"column":4},"generated":{"line":1,"column":1709}},{"source":"src/Image.js","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1714}},{"source":"src/Image.js","name":null,"original":{"line":138,"column":18},"generated":{"line":1,"column":1721}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":4},"generated":{"line":1,"column":1723}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":9},"generated":{"line":1,"column":1728}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":22},"generated":{"line":1,"column":1740}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":22},"generated":{"line":1,"column":1742}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":22},"generated":{"line":1,"column":1744}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":32},"generated":{"line":1,"column":1755}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":37},"generated":{"line":1,"column":1760}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":47},"generated":{"line":1,"column":1768}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":52},"generated":{"line":1,"column":1773}},{"source":"src/Image.js","name":null,"original":{"line":139,"column":59},"generated":{"line":1,"column":1780}},{"source":"src/Image.js","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":1788}},{"source":"src/Image.js","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":1790}},{"source":"src/Image.js","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":1800}},{"source":"src/Image.js","name":null,"original":{"line":147,"column":2},"generated":{"line":1,"column":1815}},{"source":"src/Image.js","name":null,"original":{"line":148,"column":8},"generated":{"line":1,"column":1826}},{"source":"src/Image.js","name":null,"original":{"line":148,"column":13},"generated":{"line":1,"column":1831}},{"source":"src/Image.js","name":null,"original":{"line":149,"column":6},"generated":{"line":1,"column":1843}},{"source":"src/Image.js","name":null,"original":{"line":149,"column":11},"generated":{"line":1,"column":1848}},{"source":"src/Image.js","name":null,"original":{"line":150,"column":6},"generated":{"line":1,"column":1860}},{"source":"src/Image.js","name":null,"original":{"line":150,"column":11},"generated":{"line":1,"column":1865}},{"source":"src/Image.js","name":null,"original":{"line":150,"column":23},"generated":{"line":1,"column":1875}},{"source":"src/Image.js","name":null,"original":{"line":153,"column":0},"generated":{"line":1,"column":1882}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":1884}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1885}},{"source":"src/Image.js","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":1887}},{"source":"src/Image.js","name":null,"original":{"line":161,"column":6},"generated":{"line":1,"column":1896}},{"source":"src/Image.js","name":null,"original":{"line":161,"column":16},"generated":{"line":1,"column":1905}},{"source":"src/Image.js","name":null,"original":{"line":161,"column":28},"generated":{"line":1,"column":1907}},{"source":"src/Image.js","name":null,"original":{"line":161,"column":35},"generated":{"line":1,"column":1909}},{"source":"src/Image.js","name":null,"original":{"line":161,"column":48},"generated":{"line":1,"column":1911}},{"source":"src/Image.js","name":null,"original":{"line":162,"column":2},"generated":{"line":1,"column":1914}},{"source":"src/Image.js","name":null,"original":{"line":162,"column":8},"generated":{"line":1,"column":1918}},{"source":"src/Image.js","name":null,"original":{"line":162,"column":47},"generated":{"line":1,"column":1920}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":2},"generated":{"line":1,"column":1922}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":6},"generated":{"line":1,"column":1925}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":10},"generated":{"line":1,"column":1927}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":17},"generated":{"line":1,"column":1932}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":2},"generated":{"line":1,"column":1934}},{"source":"src/Image.js","name":null,"original":{"line":164,"column":31},"generated":{"line":1,"column":1947}},{"source":"src/Image.js","name":null,"original":{"line":165,"column":4},"generated":{"line":1,"column":1948}},{"source":"src/Image.js","name":null,"original":{"line":165,"column":10},"generated":{"line":1,"column":1952}},{"source":"src/Image.js","name":null,"original":{"line":165,"column":20},"generated":{"line":1,"column":1954}},{"source":"src/Image.js","name":null,"original":{"line":165,"column":24},"generated":{"line":1,"column":1956}},{"source":"src/Image.js","name":null,"original":{"line":166,"column":8},"generated":{"line":1,"column":1965}},{"source":"src/Image.js","name":null,"original":{"line":166,"column":20},"generated":{"line":1,"column":1968}},{"source":"src/Image.js","name":null,"original":{"line":190,"column":4},"generated":{"line":1,"column":1970}},{"source":"src/Image.js","name":null,"original":{"line":170,"column":4},"generated":{"line":1,"column":1977}},{"source":"src/Image.js","name":null,"original":{"line":171,"column":7},"generated":{"line":1,"column":1979}},{"source":"src/Image.js","name":null,"original":{"line":171,"column":12},"generated":{"line":1,"column":1984}},{"source":"src/Image.js","name":null,"original":{"line":172,"column":12},"generated":{"line":1,"column":1995}},{"source":"src/Image.js","name":null,"original":{"line":173,"column":10},"generated":{"line":1,"column":1998}},{"source":"src/Image.js","name":null,"original":{"line":176,"column":7},"generated":{"line":1,"column":2004}},{"source":"src/Image.js","name":null,"original":{"line":176,"column":13},"generated":{"line":1,"column":2010}},{"source":"src/Image.js","name":null,"original":{"line":176,"column":23},"generated":{"line":1,"column":2019}},{"source":"src/Image.js","name":null,"original":{"line":177,"column":12},"generated":{"line":1,"column":2022}},{"source":"src/Image.js","name":null,"original":{"line":181,"column":27},"generated":{"line":1,"column":2026}},{"source":"src/Image.js","name":null,"original":{"line":181,"column":12},"generated":{"line":1,"column":2044}},{"source":"src/Image.js","name":null,"original":{"line":181,"column":18},"generated":{"line":1,"column":2046}},{"source":"src/Image.js","name":null,"original":{"line":182,"column":30},"generated":{"line":1,"column":2052}},{"source":"src/Image.js","name":null,"original":{"line":182,"column":12},"generated":{"line":1,"column":2076}},{"source":"src/Image.js","name":null,"original":{"line":182,"column":18},"generated":{"line":1,"column":2078}},{"source":"src/Image.js","name":null,"original":{"line":184,"column":12},"generated":{"line":1,"column":2086}},{"source":"src/Image.js","name":null,"original":{"line":186,"column":12},"generated":{"line":1,"column":2090}},{"source":"src/Image.js","name":null,"original":{"line":167,"column":21},"generated":{"line":1,"column":2097}},{"source":"src/Image.js","name":null,"original":{"line":168,"column":6},"generated":{"line":1,"column":2108}},{"source":"src/Image.js","name":null,"original":{"line":168,"column":18},"generated":{"line":1,"column":2111}},{"source":"src/Image.js","name":null,"original":{"line":193,"column":2},"generated":{"line":1,"column":2114}},{"source":"src/Image.js","name":null,"original":{"line":193,"column":8},"generated":{"line":1,"column":2118}},{"source":"src/Image.js","name":null,"original":{"line":193,"column":23},"generated":{"line":1,"column":2120}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":4},"generated":{"line":1,"column":2122}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":4},"generated":{"line":1,"column":2124}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":4},"generated":{"line":1,"column":2126}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":15},"generated":{"line":1,"column":2138}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":20},"generated":{"line":1,"column":2140}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":20},"generated":{"line":1,"column":2142}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":30},"generated":{"line":1,"column":2150}},{"source":"src/Image.js","name":null,"original":{"line":194,"column":36},"generated":{"line":1,"column":2155}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":4},"generated":{"line":1,"column":2159}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":4},"generated":{"line":1,"column":2161}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":4},"generated":{"line":1,"column":2163}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":15},"generated":{"line":1,"column":2175}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":20},"generated":{"line":1,"column":2177}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":20},"generated":{"line":1,"column":2179}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":30},"generated":{"line":1,"column":2187}},{"source":"src/Image.js","name":null,"original":{"line":195,"column":37},"generated":{"line":1,"column":2193}},{"source":"src/Image.js","name":null,"original":{"line":197,"column":2},"generated":{"line":1,"column":2197}},{"source":"src/Image.js","name":null,"original":{"line":197,"column":9},"generated":{"line":1,"column":2204}},{"source":"src/Image.js","name":null,"original":{"line":198,"column":4},"generated":{"line":1,"column":2215}},{"source":"src/Image.js","name":null,"original":{"line":198,"column":17},"generated":{"line":1,"column":2217}},{"source":"src/Image.js","name":null,"original":{"line":198,"column":25},"generated":{"line":1,"column":2225}},{"source":"src/Image.js","name":null,"original":{"line":198,"column":4},"generated":{"line":1,"column":2227}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2243}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2247}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2249}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2251}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2259}},{"source":"src/Image.js","name":null,"original":{"line":202,"column":15},"generated":{"line":1,"column":2267}}],"sources":{"src/Image.js":"/**\n * @module ol/Image\n */\nimport EventType from './events/EventType.js';\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport {IMAGE_DECODE} from './has.js';\nimport {getHeight} from './extent.js';\nimport {listenOnce, unlistenByKey} from './events.js';\n\n/**\n * A function that takes an {@link module:ol/Image~Image} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~Image#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(ImageWrapper, string): void} LoadFunction\n * @api\n */\n\nclass ImageWrapper extends ImageBase {\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number|undefined} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {string} src Image source URI.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {LoadFunction} imageLoadFunction Image load function.\n   */\n  constructor(\n    extent,\n    resolution,\n    pixelRatio,\n    src,\n    crossOrigin,\n    imageLoadFunction\n  ) {\n    super(extent, resolution, pixelRatio, ImageState.IDLE);\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement}\n     */\n    this.image_ = new Image();\n    if (crossOrigin !== null) {\n      this.image_.crossOrigin = crossOrigin;\n    }\n\n    /**\n     * @private\n     * @type {?function():void}\n     */\n    this.unlisten_ = null;\n\n    /**\n     * @protected\n     * @type {import(\"./ImageState.js\").default}\n     */\n    this.state = ImageState.IDLE;\n\n    /**\n     * @private\n     * @type {LoadFunction}\n     */\n    this.imageLoadFunction_ = imageLoadFunction;\n  }\n\n  /**\n   * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n   * @api\n   */\n  getImage() {\n    return this.image_;\n  }\n\n  /**\n   * Tracks loading or read errors.\n   *\n   * @private\n   */\n  handleImageError_() {\n    this.state = ImageState.ERROR;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Tracks successful image load.\n   *\n   * @private\n   */\n  handleImageLoad_() {\n    if (this.resolution === undefined) {\n      this.resolution = getHeight(this.extent) / this.image_.height;\n    }\n    this.state = ImageState.LOADED;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Load the image or retry if loading previously failed.\n   * Loading is taken care of by the tile queue, and calling this method is\n   * only needed for preloading or for reloading in case of an error.\n   * @api\n   */\n  load() {\n    if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n      this.state = ImageState.LOADING;\n      this.changed();\n      this.imageLoadFunction_(this, this.src_);\n      this.unlisten_ = listenImage(\n        this.image_,\n        this.handleImageLoad_.bind(this),\n        this.handleImageError_.bind(this)\n      );\n    }\n  }\n\n  /**\n   * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n   */\n  setImage(image) {\n    this.image_ = image;\n    this.resolution = getHeight(this.extent) / this.image_.height;\n  }\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  unlistenImage_() {\n    if (this.unlisten_) {\n      this.unlisten_();\n      this.unlisten_ = null;\n    }\n  }\n}\n\n/**\n * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image element.\n * @param {function():any} loadHandler Load callback function.\n * @param {function():any} errorHandler Error callback function.\n * @return {function():void} Callback to stop listening.\n */\nexport function listenImage(image, loadHandler, errorHandler) {\n  const img = /** @type {HTMLImageElement} */ (image);\n\n  if (img.src && IMAGE_DECODE) {\n    const promise = img.decode();\n    let listening = true;\n    const unlisten = function () {\n      listening = false;\n    };\n    promise\n      .then(function () {\n        if (listening) {\n          loadHandler();\n        }\n      })\n      .catch(function (error) {\n        if (listening) {\n          // FIXME: Unconditionally call errorHandler() when this bug is fixed upstream:\n          //        https://bugs.webkit.org/show_bug.cgi?id=198527\n          if (\n            error.name === 'EncodingError' &&\n            error.message === 'Invalid image type.'\n          ) {\n            loadHandler();\n          } else {\n            errorHandler();\n          }\n        }\n      });\n    return unlisten;\n  }\n\n  const listenerKeys = [\n    listenOnce(img, EventType.LOAD, loadHandler),\n    listenOnce(img, EventType.ERROR, errorHandler),\n  ];\n  return function unlisten() {\n    listenerKeys.forEach(unlistenByKey);\n  };\n}\n\nexport default ImageWrapper;\n"},"lineCount":null}},"error":null,"hash":"074f64ed5a4add69e7e0f263493cd6f1","cacheData":{"env":{}}}